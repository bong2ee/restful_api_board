<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.bong.board.repository.UserRepository">

	<!-- 회원가입 -->
	<insert id="signupUser" parameterType="com.bong.board.domain.dto.UserDto">
	    INSERT INTO TB_USER (USER_NO, USER_ID, USER_PW, USER_NM, EMAIL_ADDR)
	    VALUES (SEQ_USERNO.NEXTVAL, #{userId}, #{userPw}, #{userNm}, #{emailAddr})
	</insert>
	
	<!-- 회원가입 -->
	<select id="idOverlapCheck" parameterType="com.bong.board.domain.dto.UserDto">
	    SELECT CASE WHEN COUNT(*) > 0 THEN 'N' ELSE 'Y' END AS PASS_YN
		FROM TB_USER 
		WHERE USER_ID = #{userId}
	</select>
	
	<select id="selectUser" parameterType="com.bong.board.domain.dto.UserDto">
	    SELECT 
			USER_NO as userNo,
		    USER_ID as userId,
		    USER_PW as userPw,
		    USER_NM as userNm,
		    EMAIL_ADDR as emailAddr
		FROM TB_USER 
		WHERE USER_ID = #{userId}
	</select>
	

</mapper>

